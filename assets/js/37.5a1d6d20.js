(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{335:function(n,e,r){"use strict";r.r(e);var a=r(1),t=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var n=this,e=n.$createElement,r=n._self._c||e;return r("div",{staticClass:"content"},[r("h2",{attrs:{id:"git-log"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#git-log","aria-hidden":"true"}},[n._v("#")]),n._v(" git log")]),n._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[n._v("commit 0516ddd34e4504c8a0f556b3a99f9c3c7a532626\nAuthor: K.Kosako <kosako@sofnec.co.jp>\nDate:   Wed Mar 28 09:06:47 2018 +0900\n\n    follow #83: update distribution files\n")])])]),r("h2",{attrs:{id:"test-code"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#test-code","aria-hidden":"true"}},[n._v("#")]),n._v(" test code")]),n._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[n._v('#include <stdio.h>\n#include "oniguruma.h"\nstatic int\nscan_callback(int n, int r, char* region, void* arg)\n{\n    return 0;\n}\n\nstatic int\nscan(regex_t* reg, char* str, char* end)\n{\n  int r;\n  OnigRegion *region;\n\n  region = onig_region_new();\n\n  r = onig_scan(reg, str, end, region, ONIG_OPTION_NONE, scan_callback, NULL);\n  if (r >= 0) {\n    fprintf(stdout, "total: %d match\\n", r);\n  }\n  else { /* error */\n    char s[ONIG_MAX_ERROR_MESSAGE_LEN];\n    onig_error_code_to_str((OnigUChar* )s, r);\n    fprintf(stderr, "ERROR: %s\\n", s);\n    return -1;\n  }\n  \n  onig_region_free(region, 1 /* 1:free self, 0:free contents only */);\n  return 0;\n}\n\nstatic int \nexec(OnigEncoding enc, OnigOptionType options,\n     char* apattern, char* astr,  int pattern_len,\n    char *end, OnigSyntaxType* sytax)\n{\n    int r;\n    regex_t* reg;\n    OnigErrorInfo einfo;\n    UChar* pattern = (UChar* )apattern;\n    UChar* str     = (UChar* )astr;\n\n    onig_initialize(&enc, 1); \n\n    r = onig_new(&reg, pattern,\n                 pattern + pattern_len,\n                 options, enc, sytax , &einfo);\n    if (r != ONIG_NORMAL) {\n        char s[ONIG_MAX_ERROR_MESSAGE_LEN];\n        onig_error_code_to_str(s, r, &einfo);\n        fprintf(stderr, "ERROR: %s\\n", s); \n        return -1; \n    }   \n\n    r = scan(reg, str, end);\n    onig_free(reg);\n    onig_end();\n    return 0;\n}\n\nint main()\n{\n    int r;\n    int i;\n    char* pattern ="\\x28\\x7c\\x28\\x00\\x28\\x3f\\x3a\\x5c\\x67\\x27\\x31\\x27\\x29\\x2a\\x7c\\x7c\\x28\\x29\\x29\\x2a\\x7c\\x28\\x28\\x28\\x28\\x29\\x29\\x29\\x5c\\x6b\\x27\\x31\\x2d\\x30\\x27\\x29\\x29\\x30\\x7c";\n\n    char data[] = {0x0, 0xa, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0};\n    r = exec(ONIG_ENCODING_EUC_JP,ONIG_OPTION_NONE,pattern,(char*) data,39, (char*) data + 64, ONIG_SYNTAX_DEFAULT);\n    return r;\n}\n')])])]),r("h2",{attrs:{id:"error"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#error","aria-hidden":"true"}},[n._v("#")]),n._v(" error")]),n._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[n._v("==24985==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7ffef1365e80 at pc 0x7f863add3dc2 bp 0x7ffef1363b40 sp 0x7ffef1363b30\nREAD of size 1 at 0x7ffef1365e80 thread T0\n    #0 0x7f863add3dc1 in mbc_enc_len /home/github/onigurumag/src/euc_jp.c:56\n    #1 0x7f863adaf517 in match_at /home/github/onigurumag/src/regexec.c:3398\n    #2 0x7f863adbeb30 in onig_search_with_param /home/github/onigurumag/src/regexec.c:4837\n    #3 0x7f863adbd558 in onig_search /home/github/onigurumag/src/regexec.c:4596\n    #4 0x7f863adbf78e in onig_scan /home/github/onigurumag/src/regexec.c:4970\n    #5 0x400e8d in scan /home/github/onigurumag/fuzz2.c:17\n    #6 0x4011f3 in exec /home/github/onigurumag/fuzz2.c:55\n    #7 0x401404 in main /home/github/onigurumag/fuzz2.c:73\n    #8 0x7f863a97b82f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2082f)\n    #9 0x400cb8 in _start (/home/github/onigurumag/fuzz+0x400cb8)\n\nAddress 0x7ffef1365e80 is located in stack of thread T0 at offset 96 in frame\n    #0 0x4012dc in main /home/github/onigurumag/fuzz2.c:62\n\n  This frame has 1 object(s):\n    [32, 96) 'data' <== Memory access at offset 96 overflows this variable\nHINT: this may be a false positive if your program uses some custom stack unwind mechanism or swapcontext\n      (longjmp and C++ exceptions *are* supported)\nSUMMARY: AddressSanitizer: stack-buffer-overflow /home/github/onigurumag/src/euc_jp.c:56 mbc_enc_len\nShadow bytes around the buggy address:\n  0x10005e264b80: f3 f3 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x10005e264b90: 00 00 f1 f1 f1 f1 00 f4 f4 f4 f2 f2 f2 f2 00 00\n  0x10005e264ba0: 00 f4 f2 f2 f2 f2 00 00 00 00 00 00 00 00 00 00\n  0x10005e264bb0: 00 02 f3 f3 f3 f3 f3 f3 f3 f3 00 00 00 00 00 00\n  0x10005e264bc0: 00 00 00 00 f1 f1 f1 f1 00 00 00 00 00 00 00 00\n=>0x10005e264bd0:[f3]f3 f3 f3 f3 f3 f3 f3 00 00 00 00 00 00 00 00\n  0x10005e264be0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x10005e264bf0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x10005e264c00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x10005e264c10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n  0x10005e264c20: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\nShadow byte legend (one shadow byte represents 8 application bytes):\n  Addressable:           00\n  Partially addressable: 01 02 03 04 05 06 07 \n  Heap left redzone:       fa\n  Heap right redzone:      fb\n  Freed heap region:       fd\n  Stack left redzone:      f1\n  Stack mid redzone:       f2\n  Stack right redzone:     f3\n  Stack partial redzone:   f4\n  Stack after return:      f5\n  Stack use after scope:   f8\n  Global redzone:          f9\n  Global init order:       f6\n  Poisoned by user:        f7\n  Container overflow:      fc\n  Array cookie:            ac\n  Intra object redzone:    bb\n  ASan internal:           fe\n==24985==ABORTING\n")])])])])}],!1,null,null,null);e.default=t.exports}}]);